<!DOCTYPE html>
<html lang="en">

<head>
    <!--PADRAO-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Graficos</title>
    <!--CSS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="graficos.css">
</head>

<body>
    <!--Grafico 1-->
    <div class="canvas-container">
        <h1>Eleições 2022</h1>

        <canvas id="myChart" width="10" height="300">

            <script>
                var ctx = document.getElementById("myChart").getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',

                    data: {
                        labels: ["João Amoedo", "Ciro Gomes", "Bolsonaro", "Cabeça", "Marina Silva", "Haddad", "Brancos/Nulos"],
                        datasets: [{
                            label: ' Number of Votes',
                            data: [20, 8, 10, 51, 2, 6, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {

                        maintainAspectRatio: false,
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }

                });
            </script>
        </canvas>
    </div>

    <!--Grafico 2-->

    <div class="canvas-container">
        <h1>Segundo turno</h1>
        <canvas id="myChart1">
            <script>


                var ctx = document.getElementById("myChart1").getContext('2d');
                var myLineChart = new Chart(ctx, {
                    "type": "line",
                    "data": {
                        "labels": new Array("January", "February", "March", "April", "May", "June", "July"),
                        "datasets": [{
                            "label": "Cabeça",
                            "data": new Array(12, 10, 60, 19, 44, 45, 80),
                            "fill": false,
                            "borderColor": "rgb(75, 192, 192)",
                            "lineTension": 0.1
                        },
                        {
                            "label": "João Amoedo",
                            "data": new Array(54, 54, 54, 54, 54, 54, 54),
                            "fill": false,
                            "borderColor": "#ff0000",
                            "lineTension": 0.1
                        }]
                    },
                    "options": {}
                });

                var aux;
                var filaMes = new Array("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");
                function sleep(ms) {
                    return new Promise(resolve => setTimeout(resolve, ms));
                }

                console.log([0]);
                async function demo() {
                    //Loop p ficar alterando (no real troca p while true)
                    for (var i = 0; ; i++) {
                        //altera os meses
                        for (var j = 0; j < myLineChart["data"]["datasets"].length; j++) {
                            myLineChart["data"]["datasets"][j].data.shift();
                            myLineChart["data"]["datasets"][j].data.push(Math.random() * 100);
                        }
                        //altera os valores
                        myLineChart["data"]["labels"].push(filaMes.shift());
                        aux = myLineChart["data"]["labels"].shift();
                        filaMes.push(aux);


                        myLineChart.update();
                        await sleep(800);
                    }
                }
                demo();



            </script>

        </canvas>

    </div>





    <div class="canvas-container"></div>
    <div class="canvas-container"></div>
</body>


<footer>


    <br>
    <a href="../exercicios.html">return</a>
    <br>
</footer>

</html>